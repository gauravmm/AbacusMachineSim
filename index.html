<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Abacus Machine</title>
  <meta name="description" content="Abacus Machine Simulator">
  <meta name="author" content="Gaurav Manek">

  <link href='https://fonts.googleapis.com/css?family=Merriweather:700|Source+Sans+Pro|Inconsolata' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.12.0/codemirror.min.css" />
  <link rel="stylesheet" href="style.css?v=1.0" />
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body onload="start()">
  <div id="header" contentrole="header">
    <h1>Abacus Machine Simulator</h1>
    <div class="links">
      <small><a href="https://github.com/gauravmm/AbacusMachineSim/issues">Found a Bug?</a></small>
      <small><a href="https://github.com/gauravmm/AbacusMachineSim">Code on Github</a></small>
    </div>
    <div class="attribution">
      <small><a href="http://www.gauravmanek.com">Gaurav Manek</a></small>
    </div>
  </div>

  <div id="contentRoot" class="container">
    <div class="stateArea">
      <div id="defaultView">
        <div id="instructions">
          <h3>Instructions</h3>
          <p>Enter code in the right pane. Click on the status bar or hit <span class="kbrdShort">Ctrl + Enter</span> to compile the code and run tests automatically.</p>
          <p>If your code compiles correctly, these instructions will be replaced by an debugging window where you can set breakpoints, run functions, and step through execution of your code. (This is available even if some of your tests fail.)</p>
          <p>Tests are built into the language to encourage good testing practices. Each time you compile your code, the tests you define are run against it.
          A <span class="codeSnippet">where</span> block at the end of a function contains tests like <span class="codeSnippet">name(1, 2, 3) is 2, 3</span>. The left-hand side must be a function call and the right-hand side can be a list of integers or another function call. </p>
          <p>For additional documentation, refer to the <a href="https://github.com/gauravmm/AbacusMachineSim/blob/develop/README.md">README</a>.</p>
        </div>
      </div>
      <div id="runningView" style="display: none;">
        <div id="toolbar">
          <div class="toolbarRow toolbarSmallGap">
            <input type="text" id="funcCall" class="code" value="name(1, 2, 3)" />
            <span class="btn" onclick="loadAndPause()" tooltip="Load and Pause">&#10073;&#10073;</span>
            <span class="btn" onclick="loadAndRun()" tooltip="Load and Run">&#9654;</span>
          </div>
          <div class="toolbarRow showWhenRunning">
            <span class="btn" onclick="runToEnd()" tooltip="Run to End (Ctrl+E)">&#x21e5;</span>
            <span class="btn" onclick="stepOver()" tooltip="Step Over (Ctrl+,)">&#x21b7;</span>
            <span class="btn" onclick="stepInto()" tooltip="Step In (Ctrl+.)">&#x21b4;</span>
            <span class="btn" onclick="stepOut()" tooltip="Step Out (Ctrl+/)">&#x21b1;</span>
          </div>
        </div>
        <div id="registers"></div>
        <div class="viewDivider"></div>
        <div id="stack"></div>
      </div>
    </div>
    <div class="inputArea" class="inputDirty">
      <div id="runtimeOut" class="runtimeReady">Click here or hit Ctrl+Enter to build and test.</div>
      <div class="codeWrapper"><textarea id="codeArea">// This is a comment
// This is another comment 
/* This
 * is 
 * a
 * multiline
 * comment
 */
function name([1], [2], [3]) -> [1] {
  cpy([2]) -> [1];
}
function cpy([1]) -> [2] {
  cpy1([1]) -> [2];
}

function cpy1([1]) -> [1] {
  // Do nothing
} where {
  cpy1(7) is 7;
  cpy1(8) is cpy1(6);
  cpy1(6) is cpy1(6);
}

function a([1]) -> [1] {
  [1]+;
  b([1]) -> [1];
}

function b([1]) -> [1] {
  [1]+;
} where {
  b(7) is 8;
  b(6) is 7;
}
</textarea>
    </div>
  </div>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.12.0/codemirror.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.12.0/addon/mode/simple.min.js"></script>
<script type="text/javascript" src="compat.js"></script>
<script type="text/javascript" src="cmsyntax.js"></script>
<script type="text/javascript" src="parser.js"></script>
<script type="text/javascript" src="machine.js"></script>
<script type="text/javascript" src="script.js"></script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-20172505-3', 'auto');
ga('send', 'pageview');
</script>
</body>
</html>